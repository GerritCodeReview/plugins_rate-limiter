{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "15b8f184_54f4776b",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/ListCommand.java",
        "patchSetId": 4
      },
      "lineNbr": 37,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "suggest to move after DASHED_LINE TO Keep original order.\n%s%n doesn\u0027t look well %s %n better. I know that this is not the same but in those case maybe can be used this way?",
      "range": {
        "startLine": 37,
        "startChar": 2,
        "endLine": 37,
        "endChar": 62
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56fc6ff3_b3847c60",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 84,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "suggest to change to something like this \npublic String listPermitsAsJson() {\n    List\u003cString\u003e permitList \u003d new ArrayList\u003c\u003e();\n    Gson gson \u003d new GsonBuilder().setPrettyPrinting().create();\n    uploadPackPerHour.asMap().entrySet().stream()\n        .sorted(Map.Entry.comparingByValue())\n        .map(this::getJsonObjectString)\n        .forEach(permitList::add);\n    \n    return gson.toJson(JsonParser.parseString(permitList.toString()));\n  }\n  private String getJsonObjectString(Map.Entry\u003cString, RateLimiter\u003e entry)\n  {\n    JsonObject jsonObject \u003d new JsonObject();\n    jsonObject.addProperty(\"AccountId\", getDisplayValue(entry.getKey(), userResolver));\n    jsonObject.addProperty(\n        \"permits_per_hour\", permits(entry.getValue().permitsPerHour()));\n    jsonObject.addProperty(\n        \"available_permits\", permits(entry.getValue().availablePermits()));\n    jsonObject.addProperty(\"used_permit\", permits(entry.getValue().usedPermits()));\n    jsonObject.addProperty(\n        \"replenish_in\",\n        Duration.ofSeconds(entry.getValue().remainingTime(TimeUnit.SECONDS)).toString());\n    return jsonObject.toString();\n  }",
      "range": {
        "startLine": 63,
        "startChar": 1,
        "endLine": 84,
        "endChar": 3
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8added8_ed506463",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 91,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "No need to create additional optional\nreturn userResolver.getUserName(key).map(name -\u003e key + \" (\" + name + \")\").orElse(key);",
      "range": {
        "startLine": 91,
        "startChar": 4,
        "endLine": 91,
        "endChar": 65
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "22b14bf6_f9b26474",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 103,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "uploadPackPerHour.asMap().values().forEach(entry -\u003e entry.replenishPermits());\nto stick java8 convention",
      "range": {
        "startLine": 100,
        "startChar": 5,
        "endLine": 103,
        "endChar": 13
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "545b5dc4_699c56dd",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 110,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "I like those for loops but if we want we can go with 1liner of each\naccountIds.stream().forEach(entry-\u003ereplenishIfPresent(Integer.toString(entry.get())));",
      "range": {
        "startLine": 105,
        "startChar": 4,
        "endLine": 110,
        "endChar": 5
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "51194fec_8b4ef08e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 116,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "List on left site",
      "range": {
        "startLine": 116,
        "startChar": 4,
        "endLine": 116,
        "endChar": 13
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3d87118_943fac5f",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/ratelimiter/RateLimiterProcessing.java",
        "patchSetId": 4
      },
      "lineNbr": 120,
      "author": {
        "id": 1127770
      },
      "writtenOn": "2022-02-24T21:11:29Z",
      "side": 1,
      "message": "I am not sure this is proper.\nYou send to the method list of usernames. If only 1 is not found you stop searching for more is that ok?",
      "range": {
        "startLine": 120,
        "startChar": 8,
        "endLine": 120,
        "endChar": 86
      },
      "revId": "10d23a559b8d8e59e36bc592fd560dc2a953bec8",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153"
    }
  ]
}